<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hizb Details</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Hizb Selection</h1>
    </header>

    <div id="quran-text-container">
        <h2 id="hizb-title"></h2>
        <p id="quran-text"></p>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", async function() {
        const urlParams = new URLSearchParams(window.location.search);
        const hizbId = urlParams.get("hizb");
    
        if (!hizbId) {
            document.getElementById("quran-text").innerText = "No Hizb selected.";
            return;
        }
    
        document.getElementById("quran-text").innerText = "Loading...";
    
        try {
            // Load the pre-written text from hizbs.json
            const response = await fetch("hizbs.json");
            const hizbData = await response.json();
    
            // Find the correct Hizb
            const selectedHizb = hizbData.hizbs.find(hizb => hizb.id == hizbId);
    
            if (!selectedHizb) {
                document.getElementById("quran-text").innerText = "Invalid Hizb.";
                return;
            }
    
            // Display the Quranic text
            document.getElementById("hizb-title").innerText = `Hizb ${hizbId}`;
            document.getElementById("quran-text").innerHTML = selectedHizb.text;
    
        } catch (error) {
            console.error("Error loading Quranic text:", error);
            document.getElementById("quran-text").innerText = "Failed to load Quranic text.";
        }
    });
    </script>

</body>
</html>
